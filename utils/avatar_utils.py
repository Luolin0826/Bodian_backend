# app/utils/avatar_utils.py
"""
头像工具模块
"""

# 预定义头像映射
DEFAULT_AVATARS = {
    'cat': 'data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8Y2lyY2xlIGN4PSI1MCIgY3k9IjU1IiByPSI0MCIgZmlsbD0iI0ZGNzAzMyIvPgogIDx0cmlhbmdsZSBwb2ludHM9IjM1LDIwIDQ1LDM1IDI1LDM1IiBmaWxsPSIjRkY3MDMzIi8+CiAgPHRyaWFuZ2xlIHBvaW50cz0iNjUsMjAgNzUsMzUgNTUsMzUiIGZpbGw9IiNGRjcwMzMiLz4KICA8Y2lyY2xlIGN4PSI0MCIgY3k9IjUwIiByPSIzIiBmaWxsPSIjMDAwIi8+CiAgPGNpcmNsZSBjeD0iNjAiIGN5PSI1MCIgcj0iMyIgZmlsbD0iIzAwMCIvPgogIDxwYXRoIGQ9Ik0gNDUgNjAgUSA1MCA2NSA1NSA2MCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiLz4KPC9zdmc+',
    'dog': 'data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSI0MCIgZmlsbD0iI0ZGREJBQyIvPgogIDxlbGxpcHNlIGN4PSIzMCIgY3k9IjMwIiByeD0iMTAiIHJ5PSIyMCIgZmlsbD0iI0ZGREJBQyIvPgogIDxlbGxpcHNlIGN4PSI3MCIgY3k9IjMwIiByeD0iMTAiIHJ5PSIyMCIgZmlsbD0iI0ZGREJBQyIvPgogIDxjaXJjbGUgY3g9IjQyIiBjeT0iNDUiIHI9IjMiIGZpbGw9IiMwMDAiLz4KICA8Y2lyY2xlIGN4PSI1OCIgY3k9IjQ1IiByPSIzIiBmaWxsPSIjMDAwIi8+CiAgPGVsbGlwc2UgY3g9IjUwIiBjeT0iNjAiIHJ4PSI2IiByeT0iNCIgZmlsbD0iIzAwMCIvPgo8L3N2Zz4=',
    'bear': 'data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIxNSIgZmlsbD0iIzgzNjUzOSIvPgogIDxjaXJjbGUgY3g9IjcwIiBjeT0iMzAiIHI9IjE1IiBmaWxsPSIjODM2NTM5Ii8+CiAgPGNpcmNsZSBjeD0iNTAiIGN5PSI1MCIgcj0iMzUiIGZpbGw9IiM4MzY1MzkiLz4KICA8Y2lyY2xlIGN4PSI0MiIgY3k9IjQ1IiByPSIzIiBmaWxsPSIjMDAwIi8+CiAgPGNpcmNsZSBjeD0iNTgiIGN5PSI0NSIgcj0iMyIgZmlsbD0iIzAwMCIvPgogIDxlbGxpcHNlIGN4PSI1MCIgY3k9IjYwIiByeD0iOCIgcnk9IjYiIGZpbGw9IiNGRkRCQUMiLz4KICA8Y2lyY2xlIGN4PSI1MCIgY3k9IjU4IiByPSIyIiBmaWxsPSIjMDAwIi8+CiAgPHBhdGggZD0iTSA0NSA2NSBRIDUwIDcwIDU1IDY1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0ibm9uZSIvPgo8L3N2Zz4=',
    'rabbit': 'data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZWxsaXBzZSBjeD0iNDAiIGN5PSIyMCIgcng9IjgiIHJ5PSIyNSIgZmlsbD0iI0ZGRiIvPgogIDxlbGxpcHNlIGN4PSI2MCIgY3k9IjIwIiByeD0iOCIgcnk9IjI1IiBmaWxsPSIjRkZGIi8+CiAgPGNpcmNsZSBjeD0iNTAiIGN5PSI1NSIgcj0iMzUiIGZpbGw9IiNGRkYiLz4KICA8Y2lyY2xlIGN4PSI0MyIgY3k9IjUwIiByPSIzIiBmaWxsPSIjMDAwIi8+CiAgPGNpcmNsZSBjeD0iNTciIGN5PSI1MCIgcj0iMyIgZmlsbD0iIzAwMCIvPgogIDxlbGxpcHNlIGN4PSI1MCIgY3k9IjYwIiByeD0iMyIgcnk9IjIiIGZpbGw9IiNGRjY5QjQiLz4KICA8cGF0aCBkPSJNIDQ1IDY1IFEgNTAgNzAgNTUgNjUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIi8+CiAgPGNpcmNsZSBjeD0iMzUiIGN5PSI3NSIgcj0iOCIgZmlsbD0iI0ZGRiIvPgogIDxjaXJjbGUgY3g9IjY1IiBjeT0iNzUiIHI9IjgiIGZpbGw9IiNGRkYiLz4KPC9zdmc+',
    'panda': 'data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIxOCIgZmlsbD0iIzAwMCIvPgogIDxjaXJjbGUgY3g9IjcwIiBjeT0iMzAiIHI9IjE4IiBmaWxsPSIjMDAwIi8+CiAgPGNpcmNsZSBjeD0iNTAiIGN5PSI1MCIgcj0iMzUiIGZpbGw9IiNGRkYiLz4KICA8ZWxsaXBzZSBjeD0iNDAiIGN5PSI0NSIgcng9IjgiIHJ5PSIxMiIgZmlsbD0iIzAwMCIvPgogIDxlbGxpcHNlIGN4PSI2MCIgY3k9IjQ1IiByeD0iOCIgcnk9IjEyIiBmaWxsPSIjMDAwIi8+CiAgPGNpcmNsZSBjeD0iNDIiIGN5PSI0OCIgcj0iMiIgZmlsbD0iI0ZGRiIvPgogIDxjaXJjbGUgY3g9IjU4IiBjeT0iNDgiIHI9IjIiIGZpbGw9IiNGRkYiLz4KICA8ZWxsaXBzZSBjeD0iNTAiIGN5PSI2MCIgcng9IjQiIHJ5PSIzIiBmaWxsPSIjMDAwIi8+CiAgPHBhdGggZD0iTSA0NSA2NSBRIDUwIDcwIDU1IDY1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0ibm9uZSIvPgo8L3N2Zz4=',
    'fox': 'data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8Y2lyY2xlIGN4PSI1MCIgY3k9IjU1IiByPSI0MCIgZmlsbD0iI0ZGNjk0NCIvPgogIDx0cmlhbmdsZSBwb2ludHM9IjM1LDE1IDQ1LDQwIDI1LDQwIiBmaWxsPSIjRkY2OTQ0Ii8+CiAgPHRyaWFuZ2xlIHBvaW50cz0iNjUsMTUgNzUsNDAgNTUsNDAiIGZpbGw9IiNGRjY5NDQiLz4KICA8Y2lyY2xlIGN4PSI0MiIgY3k9IjUwIiByPSIzIiBmaWxsPSIjMDAwIi8+CiAgPGNpcmNsZSBjeD0iNTgiIGN5PSI1MCIgcj0iMyIgZmlsbD0iIzAwMCIvPgogIDx0cmlhbmdsZSBwb2ludHM9IjUwLDU4IDQ1LDY1IDU1LDY1IiBmaWxsPSIjMDAwIi8+CiAgPGVsbGlwc2UgY3g9IjUwIiBjeT0iNzAiIHJ4PSIxNSIgcnk9IjEwIiBmaWxsPSIjRkZGIi8+CiAgPHBhdGggZD0iTSA0MyA3MyBRIDUwIDc2IDU3IDczIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0ibm9uZSIvPgo8L3N2Zz4=',
    
    'robot': 'data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB4PSIyNSIgeT0iMjUiIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCIgcng9IjUiIGZpbGw9IiNDQ0MiIHN0cm9rZT0iIzMzMyIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgPGNpcmNsZSBjeD0iNDAiIGN5PSI0NSIgcj0iNiIgZmlsbD0iIzAwRkYwMCIvPgogIDxjaXJjbGUgY3g9IjYwIiBjeT0iNDUiIHI9IjYiIGZpbGw9IiMwMEZGMDAiLz4KICA8cmVjdCB4PSI0NSIgeT0iNTUiIHdpZHRoPSIxMCIgaGVpZ2h0PSI2IiBmaWxsPSIjMzMzIi8+CiAgPHJlY3QgeD0iMjAiIHk9IjMwIiB3aWR0aD0iNCIgaGVpZ2h0PSI0MCIgZmlsbD0iIzk5OSIvPgogIDxyZWN0IHg9Ijc2IiB5PSIzMCIgd2lkdGg9IjQiIGhlaWdodD0iNDAiIGZpbGw9IiM5OTkiLz4KICA8Y2lyY2xlIGN4PSI1MCIgY3k9IjIwIiByPSIzIiBmaWxsPSIjRkYwMDAwIi8+Cjwvc3ZnPg==',
    'princess': 'data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSI0MCIgZmlsbD0iI0ZGRDFEQyIvPgogIDxwb2x5Z29uIHBvaW50cz0iMzAsMjAgNzAsMjAgNjUsMzAgNTAsMjUgMzUsMzAiIGZpbGw9IiNGRkQxRkYiLz4KICA8Y2lyY2xlIGN4PSI0NSIgY3k9IjE1IiByPSIzIiBmaWxsPSIjRkZEMTAwIi8+CiAgPGNpcmNsZSBjeD0iNTUiIGN5PSIxNSIgcj0iMyIgZmlsbD0iI0ZGRDEwMCIvPgogIDxjaXJjbGUgY3g9IjQyIiBjeT0iNDUiIHI9IjMiIGZpbGw9IiMwMDAiLz4KICA8Y2lyY2xlIGN4PSI1OCIgY3k9IjQ1IiByPSIzIiBmaWxsPSIjMDAwIi8+CiAgPGVsbGlwc2UgY3g9IjUwIiBjeT0iNjAiIHJ4PSI4IiByeT0iNCIgZmlsbD0iI0ZGNjk5NCIvPgogIDxwYXRoIGQ9Ik0gNDMgNjggUSA1MCA3MyA1NyA2OCIgc3Ryb2tlPSIjRkY2OTk0IiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiLz4KPC9zdmc+',
    'superhero': 'data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSI0MCIgZmlsbD0iI0ZGREJBQyIvPgogIDxwb2x5Z29uIHBvaW50cz0iMjAsMjAgODAsMjAgNzUsMzUgMjUsMzUiIGZpbGw9IiNGRjAwMDAiLz4KICA8Y2lyY2xlIGN4PSI0MiIgY3k9IjQ1IiByPSIzIiBmaWxsPSIjMDAwIi8+CiAgPGNpcmNsZSBjeD0iNTgiIGN5PSI0NSIgcj0iMyIgZmlsbD0iIzAwMCIvPgogIDxwYXRoIGQ9Ik0gNDQgNjAgUSA1MCA2NSA1NiA2MCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiLz4KICA8cmVjdCB4PSI0NSIgeT0iNzAiIHdpZHRoPSIxMCIgaGVpZ2h0PSIyMCIgZmlsbD0iIzAwNzhENCIvPgo8L3N2Zz4=',
    'ninja': 'data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSI0MCIgZmlsbD0iIzMzMyIvPgogIDxyZWN0IHg9IjIwIiB5PSIyNSIgd2lkdGg9IjYwIiBoZWlnaHQ9IjMwIiBmaWxsPSIjMDAwIi8+CiAgPGNpcmNsZSBjeD0iNDAiIGN5PSI0NSIgcj0iNSIgZmlsbD0iI0ZGRiIvPgogIDxjaXJjbGUgY3g9IjYwIiBjeT0iNDUiIHI9IjUiIGZpbGw9IiNGRkYiLz4KICA8Y2lyY2xlIGN4PSI0MCIgY3k9IjQ1IiByPSIyIiBmaWxsPSIjMDAwIi8+CiAgPGNpcmNsZSBjeD0iNjAiIGN5PSI0NSIgcj0iMiIgZmlsbD0iIzAwMCIvPgogIDxwYXRoIGQ9Ik0gMzAgNzAgTCA3MCA3MCIgc3Ryb2tlPSIjQ0NDIiBzdHJva2Utd2lkdGg9IjMiLz4KPC9zdmc+',
    'pirate': 'data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSI0MCIgZmlsbD0iI0ZGREJBQyIvPgogIDxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjYwIiBoZWlnaHQ9IjIwIiBmaWxsPSIjRkYwMDAwIi8+CiAgPGNpcmNsZSBjeD0iNDAiIGN5PSI0NSIgcj0iMyIgZmlsbD0iIzAwMCIvPgogIDxyZWN0IHg9IjU1IiB5PSI0MSIgd2lkdGg9IjgiIGhlaWdodD0iOCIgZmlsbD0iIzMzMyIvPgogIDxwYXRoIGQ9Ik0gNDQgNjAgUSA1MCA2NSA1NiA2MCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiLz4KICA8ZWxsaXBzZSBjeD0iNDUiIGN5PSI3MCIgcng9IjE1IiByeT0iNSIgZmlsbD0iIzY2NiIvPgo8L3N2Zz4=',
    'astronaut': 'data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSI0NSIgZmlsbD0iIzk5OSIgc3Ryb2tlPSIjNTU1IiBzdHJva2Utd2lkdGg9IjMiLz4KICA8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSIzNSIgZmlsbD0iIzAwNzVENCIvPgogIDxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjMwIiBmaWxsPSIjRkZEQkFDIi8+CiAgPGNpcmNsZSBjeD0iNDIiIGN5PSI0NSIgcj0iMyIgZmlsbD0iIzAwMCIvPgogIDxjaXJjbGUgY3g9IjU4IiBjeT0iNDUiIHI9IjMiIGZpbGw9IiMwMDAiLz4KICA8cGF0aCBkPSJNIDQ0IDYwIFEgNTAgNjUgNTYgNjAiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIi8+CiAgPHJlY3QgeD0iNDUiIHk9IjE1IiB3aWR0aD0iMTAiIGhlaWdodD0iMTUiIGZpbGw9IiNGRkQ3MDAiLz4KPC9zdmc+',
    
    'smile': 'data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSI0NSIgZmlsbD0iI0ZGRDcwMCIvPgogIDxjaXJjbGUgY3g9IjM4IiBjeT0iNDAiIHI9IjUiIGZpbGw9IiMwMDAiLz4KICA8Y2lyY2xlIGN4PSI2MiIgY3k9IjQwIiByPSI1IiBmaWxsPSIjMDAwIi8+CiAgPHBhdGggZD0iTSAzNSA2NSBRIDUwIDc1IDY1IDY1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iNCIgZmlsbD0ibm9uZSIvPgo8L3N2Zz4=',
    'wink': 'data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSI0NSIgZmlsbD0iI0ZGRDcwMCIvPgogIDxwYXRoIGQ9Ik0gMzAgNDAcIDQwIDQ1IDMwIDUwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMyIgZmlsbD0ibm9uZSIvPgogIDxjaXJjbGUgY3g9IjYyIiBjeT0iNDAiIHI9IjUiIGZpbGw9IiMwMDAiLz4KICA8cGF0aCBkPSJNIDM1IDY1IFEgNTAgNzUgNjUgNjUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSI0IiBmaWxsPSJub25lIi8+Cjwvc3ZnPg==',
    'cool': 'data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSI0NSIgZmlsbD0iI0ZGRDcwMCIvPgogIDxyZWN0IHg9IjI1IiB5PSIzNSIgd2lkdGg9IjUwIiBoZWlnaHQ9IjE1IiBmaWxsPSIjMDAwIiByeD0iNyIvPgogIDxjaXJjbGUgY3g9IjM2IiBjeT0iNDIiIHI9IjgiIGZpbGw9IiM2NjYiLz4KICA8Y2lyY2xlIGN4PSI2NCIgY3k9IjQyIiByPSI4IiBmaWxsPSIjNjY2Ii8+CiAgPHBhdGggZD0iTSA0MCA2NSBRIDUwIDcwIDYwIDY1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMyIgZmlsbD0ibm9uZSIvPgo8L3N2Zz4=',
    'shy': 'data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSI0NSIgZmlsbD0iI0ZGRDcwMCIvPgogIDxlbGxpcHNlIGN4PSIzNiIgY3k9IjQwIiByeD0iNCIgcnk9IjYiIGZpbGw9IiMwMDAiLz4KICA8ZWxsaXBzZSBjeD0iNjQiIGN5PSI0MCIgcng9IjQiIHJ5PSI2IiBmaWxsPSIjMDAwIi8+CiAgPGNpcmNsZSBjeD0iMzAiIGN5PSI1OCIgcj0iOCIgZmlsbD0iI0ZGQjZDMSIvPgogIDxjaXJjbGUgY3g9IjcwIiBjeT0iNTgiIHI9IjgiIGZpbGw9IiNGRkI2QzEiLz4KICA8ZWxsaXBzZSBjeD0iNTAiIGN5PSI2NSIgcng9IjQiIHJ5PSIzIiBmaWxsPSIjMDAwIi8+Cjwvc3ZnPg==',
    'happy': 'data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSI0NSIgZmlsbD0iI0ZGRDcwMCIvPgogIDxlbGxpcHNlIGN4PSIzOCIgY3k9IjM4IiByeD0iNiIgcnk9IjEwIiBmaWxsPSIjMDAwIi8+CiAgPGVsbGlwc2UgY3g9IjYyIiBjeT0iMzgiIHJ4PSI2IiByeT0iMTAiIGZpbGw9IiMwMDAiLz4KICA8cGF0aCBkPSJNIDMwIDYwIFEgNTAgODAgNzAgNjAiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSI0IiBmaWxsPSIjRkZGIi8+CiAgPHBhdGggZD0iTSAzNSA2NSBRIDUwIDc1IDY1IDY1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMyIgZmlsbD0ibm9uZSIvPgo8L3N2Zz4=',
    'playful': 'data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSI0NSIgZmlsbD0iI0ZGRDcwMCIvPgogIDxjaXJjbGUgY3g9IjM4IiBjeT0iNDAiIHI9IjUiIGZpbGw9IiMwMDAiLz4KICA8Y2lyY2xlIGN4PSI2MiIgY3k9IjQwIiByPSI1IiBmaWxsPSIjMDAwIi8+CiAgPGVsbGlwc2UgY3g9IjYwIiBjeT0iNjAiIHJ4PSIxNSIgcnk9IjgiIGZpbGw9IiNGRjAwMDAiLz4KICA8cGF0aCBkPSJNIDQ1IDY1IFEgNTUgNzAgNjUgNjUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIzIiBmaWxsPSJub25lIi8+CiAgPGNpcmNsZSBjeD0iNzAiIGN5PSIzMCIgcj0iNSIgZmlsbD0iI0ZGQjZDMSIvPgo8L3N2Zz4='
}

def get_avatar_by_id(avatar_id: str) -> str:
    """
    根据头像ID获取头像数据URL
    
    Args:
        avatar_id: 头像ID，如 'cat', 'dog', 'smile' 等
        
    Returns:
        头像的data URL，如果ID不存在则返回默认头像
    """
    return DEFAULT_AVATARS.get(avatar_id, DEFAULT_AVATARS['cat'])

def get_default_avatar() -> str:
    """获取默认头像（可爱的小猫）"""
    return DEFAULT_AVATARS['cat']

def is_avatar_id(value: str) -> bool:
    """
    判断是否是预定义头像ID
    
    Args:
        value: 要检查的值
        
    Returns:
        如果是头像ID返回True，否则False
    """
    return value in DEFAULT_AVATARS

def get_all_avatar_ids() -> list:
    """获取所有可用的头像ID列表"""
    return list(DEFAULT_AVATARS.keys())

def get_avatar_categories() -> dict:
    """获取头像分类"""
    return {
        'animals': ['cat', 'dog', 'bear', 'rabbit', 'panda', 'fox'],
        'characters': ['robot', 'princess', 'superhero', 'ninja', 'pirate', 'astronaut'],
        'emotions': ['smile', 'wink', 'cool', 'shy', 'happy', 'playful']
    }

def process_avatar_value(avatar_value: str) -> str:
    """
    处理头像值，如果是ID则转换为data URL
    
    Args:
        avatar_value: 头像值（可能是ID或URL）
        
    Returns:
        处理后的头像值
    """
    if not avatar_value:
        return get_default_avatar()
    
    # 如果是预定义头像ID，转换为data URL
    if is_avatar_id(avatar_value):
        return get_avatar_by_id(avatar_value)
    
    # 如果是URL，直接返回
    return avatar_value